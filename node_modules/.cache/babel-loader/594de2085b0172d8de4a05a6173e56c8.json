{"ast":null,"code":"import axios from 'axios';\nimport { onMounted, reactive, ref } from 'vue';\nexport default {\n  name: 'RoleManage',\n\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    /* eslint-disable */\n\n    const dialogFormVisible = ref(false);\n    const formLabelWidth = '140px';\n    const form = reactive({\n      name: '',\n      region: '',\n      date1: '',\n      date2: '',\n      delivery: false,\n      type: [],\n      resource: '',\n      desc: ''\n    });\n    const projectList = reactive([]);\n    const projectForm = reactive({\n      projectName: '',\n      proposer: '',\n      checker: '',\n      pm: '',\n      status: ''\n    });\n\n    const fetchProjectList = async function () {\n      const result = await axios.get('http://localhost:8080/project/list', {});\n      console.log(result);\n\n      for (let project in result.data) {\n        projectList.push(result.data);\n      } // projectList = result.data;\n\n    };\n\n    const createProject = function () {\n      axios.post('/project/create', this.projectForm).then(function (res) {\n        console.log(res);\n      });\n    };\n\n    const initFormData = function () {\n      this.projectForm.projectName = '';\n      this.projectForm.proposer = '';\n      this.projectForm.checker = '';\n      this.projectForm.pm = '';\n      this.projectForm.status = '';\n    };\n\n    onMounted(fetchProjectList);\n    const __returned__ = {\n      dialogFormVisible,\n      formLabelWidth,\n      form,\n      projectList,\n      projectForm,\n      fetchProjectList,\n      createProject,\n      initFormData,\n      axios,\n      onMounted,\n      reactive,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"AAiDA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,EAAmBC,QAAnB,EAA6BC,GAA7B,QAAuC,KAAvC;;;;;;;;IAFA;;IAIA,MAAMC,iBAAiB,GAAGD,GAAG,CAAC,KAAD,CAA7B;IACA,MAAME,cAAc,GAAG,OAAvB;IACA,MAAMC,IAAI,GAAGJ,QAAQ,CAAC;MACpBK,IAAI,EAAE,EADc;MAEpBC,MAAM,EAAE,EAFY;MAGpBC,KAAK,EAAE,EAHa;MAIpBC,KAAK,EAAE,EAJa;MAKpBC,QAAQ,EAAE,KALU;MAMpBC,IAAI,EAAE,EANc;MAOpBC,QAAQ,EAAE,EAPU;MAQpBC,IAAI,EAAE;IARc,CAAD,CAArB;IAWA,MAAMC,WAAW,GAAGb,QAAQ,CAAC,EAAD,CAA5B;IACA,MAAMc,WAAW,GAAGd,QAAQ,CAAC;MAC3Be,WAAW,EAAE,EADc;MAE3BC,QAAQ,EAAE,EAFiB;MAG3BC,OAAO,EAAE,EAHkB;MAI3BC,EAAE,EAAE,EAJuB;MAK3BC,MAAM,EAAE;IALmB,CAAD,CAA5B;;IAQA,MAAMC,gBAAgB,GAAG,kBAAiB;MACxC,MAAMC,MAAM,GAAG,MAAMvB,KAAK,CAACwB,GAAN,CAAU,oCAAV,EAA+C,EAA/C,CAArB;MACAC,OAAO,CAACC,GAAR,CAAYH,MAAZ;;MACA,KAAI,IAAII,OAAR,IAAmBJ,MAAM,CAACK,IAA1B,EAA+B;QAC7Bb,WAAW,CAACc,IAAZ,CAAiBN,MAAM,CAACK,IAAxB;MACD,CALuC,CAMxC;;IACD,CAPD;;IAQA,MAAME,aAAa,GAAG,YAAU;MAC9B9B,KAAK,CAAC+B,IAAN,CAAW,iBAAX,EAA6B,KAAKf,WAAlC,EAA+CgB,IAA/C,CAAoD,UAASC,GAAT,EAAa;QAC/DR,OAAO,CAACC,GAAR,CAAYO,GAAZ;MACD,CAFD;IAGD,CAJD;;IAKA,MAAMC,YAAY,GAAG,YAAU;MAC7B,KAAKlB,WAAL,CAAiBC,WAAjB,GAA+B,EAA/B;MACA,KAAKD,WAAL,CAAiBE,QAAjB,GAA4B,EAA5B;MACA,KAAKF,WAAL,CAAiBG,OAAjB,GAA2B,EAA3B;MACA,KAAKH,WAAL,CAAiBI,EAAjB,GAAsB,EAAtB;MACA,KAAKJ,WAAL,CAAiBK,MAAjB,GAA0B,EAA1B;IACD,CAND;;IAOApB,SAAS,CACLqB,gBADK,CAAT","names":["axios","onMounted","reactive","ref","dialogFormVisible","formLabelWidth","form","name","region","date1","date2","delivery","type","resource","desc","projectList","projectForm","projectName","proposer","checker","pm","status","fetchProjectList","result","get","console","log","project","data","push","createProject","post","then","res","initFormData"],"sources":["/Users/licheng/Documents/untitled/src/components/views/RoleManage.vue"],"sourcesContent":["<template>\n  <el-row v-for=\"project in projectList\" :key=\"project.id\">\n    <el-col :span=\"4\">\n      项目名称：{{project.projectName}}\n    </el-col>\n    <el-col :span=\"4\">\n      提出人：{{project.proposer}}\n    </el-col>\n    <el-col :span=\"4\">\n      验收人：{{project.checker}}\n    </el-col>\n    <el-col :span=\"4\">\n      PM：{{project.pm}}\n    </el-col>\n    <el-col :span=\"4\">\n      状态：{{project.status}}\n    </el-col>\n    <el-col :span=\"4\">\n      <a href=\"#\" >创建项目</a>\n    </el-col>\n  </el-row>\n\n  <el-button text @click=\"dialogFormVisible = true\">open a Form nested Dialog</el-button>\n\n  <el-dialog v-model=\"dialogFormVisible\" title=\"Shipping address\">\n    <el-form :model=\"form\">\n      <el-form-item label=\"Promotion name\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"form.name\" autocomplete=\"off\" />\n      </el-form-item>\n      <el-form-item label=\"Zones\" :label-width=\"formLabelWidth\">\n        <el-select v-model=\"form.region\" placeholder=\"Please select a zone\">\n          <el-option label=\"Zone No.1\" value=\"shanghai\" />\n          <el-option label=\"Zone No.2\" value=\"beijing\" />\n        </el-select>\n      </el-form-item>\n    </el-form>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">Cancel</el-button>\n        <el-button type=\"primary\" @click=\"dialogFormVisible = false\"\n        >Confirm</el-button\n        >\n      </span>\n    </template>\n  </el-dialog>\n</template>\n\n<script setup>\n/* eslint-disable */\nimport axios from 'axios'\nimport {onMounted, reactive, ref} from 'vue'\n\nconst dialogFormVisible = ref(false)\nconst formLabelWidth = '140px'\nconst form = reactive({\n  name: '',\n  region: '',\n  date1: '',\n  date2: '',\n  delivery: false,\n  type: [],\n  resource: '',\n  desc: '',\n})\n\nconst projectList = reactive([])\nconst projectForm = reactive({\n  projectName: '',\n  proposer: '',\n  checker: '',\n  pm: '',\n  status: ''\n})\n\nconst fetchProjectList = async function (){\n  const result = await axios.get('http://localhost:8080/project/list',{});\n  console.log(result)\n  for(let project in result.data){\n    projectList.push(result.data)\n  }\n  // projectList = result.data;\n}\nconst createProject = function(){\n  axios.post('/project/create',this.projectForm).then(function(res){\n    console.log(res)\n  })\n}\nconst initFormData = function(){\n  this.projectForm.projectName = '';\n  this.projectForm.proposer = '';\n  this.projectForm.checker = '';\n  this.projectForm.pm = '';\n  this.projectForm.status = '';\n}\nonMounted(\n    fetchProjectList\n)\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n.el-button--text {\n  margin-right: 15px;\n}\n.el-select {\n  width: 300px;\n}\n.el-input {\n  width: 300px;\n}\n.dialog-footer button:first-child {\n  margin-right: 10px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}