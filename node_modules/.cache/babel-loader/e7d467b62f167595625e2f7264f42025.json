{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-9daf4e2a\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"#\"\n}, \"创建项目\", -1));\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"创建项目\");\n\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"open a Form nested Dialog\");\n\nconst _hoisted_4 = {\n  class: \"dialog-footer\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"取消\");\n\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"确认\");\n\nimport axios from 'axios';\nimport { onMounted, reactive, ref } from 'vue';\nimport { ElMessage } from 'element-plus';\nexport default {\n  name: 'RoleManage',\n\n  setup(__props) {\n    /* eslint-disable */\n    const dialogFormVisible = ref(false);\n    const formLabelWidth = '140px';\n    const form = reactive({\n      name: '',\n      region: '',\n      date1: '',\n      date2: '',\n      delivery: false,\n      type: [],\n      resource: '',\n      desc: ''\n    });\n    const projectList = reactive([]);\n    const projectForm = reactive({\n      projectName: '',\n      proposer: '',\n      checker: '',\n      pm: '',\n      status: ''\n    });\n\n    const fetchProjectList = async function () {\n      const result = await axios.get('/bpi2/project/list', {});\n\n      for (let index in result.data) {\n        projectList.push(result.data[index]);\n        console.log(result.data[index]);\n      } // projectList = result.data;\n\n    };\n\n    const createProject = async function () {\n      const res = await axios.post('/project/create', projectForm);\n\n      if (res.status == 200) {\n        ElMessage({\n          message: '创建成功',\n          type: 'success'\n        });\n        dialogFormVisible.value = false;\n      }\n\n      console.log(projectForm);\n    };\n\n    const initFormData = function () {\n      this.projectForm.projectName = '';\n      this.projectForm.proposer = '';\n      this.projectForm.checker = '';\n      this.projectForm.pm = '';\n      this.projectForm.status = '';\n    };\n\n    onMounted(fetchProjectList);\n    return (_ctx, _cache) => {\n      const _component_el_col = _resolveComponent(\"el-col\");\n\n      const _component_el_button = _resolveComponent(\"el-button\");\n\n      const _component_el_row = _resolveComponent(\"el-row\");\n\n      const _component_el_input = _resolveComponent(\"el-input\");\n\n      const _component_el_form_item = _resolveComponent(\"el-form-item\");\n\n      const _component_el_form = _resolveComponent(\"el-form\");\n\n      const _component_el_dialog = _resolveComponent(\"el-dialog\");\n\n      return _openBlock(), _createElementBlock(_Fragment, null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(projectList, project => {\n        return _openBlock(), _createBlock(_component_el_row, {\n          key: project.id\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_col, {\n            span: 4\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" 项目名称：\" + _toDisplayString(project.projectName), 1)]),\n            _: 2\n          }, 1024), _createVNode(_component_el_col, {\n            span: 4\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" 提出人：\" + _toDisplayString(project.proposer), 1)]),\n            _: 2\n          }, 1024), _createVNode(_component_el_col, {\n            span: 4\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" 验收人：\" + _toDisplayString(project.checker), 1)]),\n            _: 2\n          }, 1024), _createVNode(_component_el_col, {\n            span: 4\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" PM：\" + _toDisplayString(project.pm), 1)]),\n            _: 2\n          }, 1024), _createVNode(_component_el_col, {\n            span: 4\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" 状态：\" + _toDisplayString(project.status), 1)]),\n            _: 2\n          }, 1024), _createVNode(_component_el_col, {\n            span: 4\n          }, {\n            default: _withCtx(() => [_hoisted_1, _createVNode(_component_el_button, {\n              type: \"primary\"\n            }, {\n              default: _withCtx(() => [_hoisted_2]),\n              _: 1\n            })]),\n            _: 1\n          })]),\n          _: 2\n        }, 1024);\n      }), 128)), _createVNode(_component_el_button, {\n        text: \"\",\n        onClick: _cache[0] || (_cache[0] = $event => dialogFormVisible.value = true)\n      }, {\n        default: _withCtx(() => [_hoisted_3]),\n        _: 1\n      }), _createVNode(_component_el_dialog, {\n        modelValue: dialogFormVisible.value,\n        \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => dialogFormVisible.value = $event),\n        title: \"创建项目\"\n      }, {\n        footer: _withCtx(() => [_createElementVNode(\"span\", _hoisted_4, [_createVNode(_component_el_button, {\n          onClick: _cache[6] || (_cache[6] = $event => dialogFormVisible.value = false)\n        }, {\n          default: _withCtx(() => [_hoisted_5]),\n          _: 1\n        }), _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: createProject\n        }, {\n          default: _withCtx(() => [_hoisted_6]),\n          _: 1\n        })])]),\n        default: _withCtx(() => [_createVNode(_component_el_form, {\n          model: projectForm\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"项目名称\",\n            \"label-width\": formLabelWidth\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: projectForm.projectName,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => projectForm.projectName = $event),\n              autocomplete: \"off\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            label: \"提出人\",\n            \"label-width\": formLabelWidth\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: projectForm.proposer,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => projectForm.proposer = $event),\n              autocomplete: \"off\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            label: \"验收人\",\n            \"label-width\": formLabelWidth\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: projectForm.checker,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => projectForm.checker = $event),\n              autocomplete: \"off\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            label: \"项目经理\",\n            \"label-width\": formLabelWidth\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: projectForm.pm,\n              \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => projectForm.pm = $event),\n              autocomplete: \"off\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          }), _createVNode(_component_el_form_item, {\n            label: \"状态\",\n            \"label-width\": formLabelWidth\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: projectForm.status,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => projectForm.status = $event),\n              autocomplete: \"off\"\n            }, null, 8, [\"modelValue\"])]),\n            _: 1\n          })]),\n          _: 1\n        }, 8, [\"model\"])]),\n        _: 1\n      }, 8, [\"modelValue\"])], 64);\n    };\n  }\n\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;AAgEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,EAAmBC,QAAnB,EAA6BC,GAA7B,QAAuC,KAAvC;AACA,SAASC,SAAT,QAA0B,cAA1B;;;;;IAHA;IAKA,MAAMC,iBAAiB,GAAGF,GAAG,CAAC,KAAD,CAA7B;IACA,MAAMG,cAAc,GAAG,OAAvB;IACA,MAAMC,IAAI,GAAGL,QAAQ,CAAC;MACpBM,IAAI,EAAE,EADc;MAEpBC,MAAM,EAAE,EAFY;MAGpBC,KAAK,EAAE,EAHa;MAIpBC,KAAK,EAAE,EAJa;MAKpBC,QAAQ,EAAE,KALU;MAMpBC,IAAI,EAAE,EANc;MAOpBC,QAAQ,EAAE,EAPU;MAQpBC,IAAI,EAAE;IARc,CAAD,CAArB;IAWA,MAAMC,WAAW,GAAGd,QAAQ,CAAC,EAAD,CAA5B;IACA,MAAMe,WAAW,GAAGf,QAAQ,CAAC;MAC3BgB,WAAW,EAAE,EADc;MAE3BC,QAAQ,EAAE,EAFiB;MAG3BC,OAAO,EAAE,EAHkB;MAI3BC,EAAE,EAAE,EAJuB;MAK3BC,MAAM,EAAE;IALmB,CAAD,CAA5B;;IAQA,MAAMC,gBAAgB,GAAG,kBAAiB;MACxC,MAAMC,MAAM,GAAG,MAAMxB,KAAK,CAACyB,GAAN,CAAU,oBAAV,EAA+B,EAA/B,CAArB;;MACA,KAAI,IAAIC,KAAR,IAAiBF,MAAM,CAACG,IAAxB,EAA6B;QAC3BX,WAAW,CAACY,IAAZ,CAAiBJ,MAAM,CAACG,IAAP,CAAYD,KAAZ,CAAjB;QACAG,OAAO,CAACC,GAAR,CAAYN,MAAM,CAACG,IAAP,CAAYD,KAAZ,CAAZ;MACD,CALuC,CAMxC;;IACD,CAPD;;IAQA,MAAMK,aAAa,GAAG,kBAAgB;MACpC,MAAMC,GAAG,GAAG,MAAMhC,KAAK,CAACiC,IAAN,CAAW,iBAAX,EAA6BhB,WAA7B,CAAlB;;MACA,IAAGe,GAAG,CAACV,MAAJ,IAAc,GAAjB,EAAqB;QACnBlB,SAAS,CAAC;UACR8B,OAAO,EAAE,MADD;UAERrB,IAAI,EAAE;QAFE,CAAD,CAAT;QAIAR,iBAAiB,CAAC8B,KAAlB,GAA0B,KAA1B;MACD;;MACDN,OAAO,CAACC,GAAR,CAAYb,WAAZ;IAED,CAXD;;IAaA,MAAMmB,YAAY,GAAG,YAAU;MAC7B,KAAKnB,WAAL,CAAiBC,WAAjB,GAA+B,EAA/B;MACA,KAAKD,WAAL,CAAiBE,QAAjB,GAA4B,EAA5B;MACA,KAAKF,WAAL,CAAiBG,OAAjB,GAA2B,EAA3B;MACA,KAAKH,WAAL,CAAiBI,EAAjB,GAAsB,EAAtB;MACA,KAAKJ,WAAL,CAAiBK,MAAjB,GAA0B,EAA1B;IACD,CAND;;IAOArB,SAAS,CACLsB,gBADK,CAAT","names":["axios","onMounted","reactive","ref","ElMessage","dialogFormVisible","formLabelWidth","form","name","region","date1","date2","delivery","type","resource","desc","projectList","projectForm","projectName","proposer","checker","pm","status","fetchProjectList","result","get","index","data","push","console","log","createProject","res","post","message","value","initFormData"],"sources":["/Users/licheng/Documents/untitled/src/components/views/RoleManage.vue"],"sourcesContent":["<template>\n  <el-row v-for=\"project in projectList\" :key=\"project.id\">\n    <el-col :span=\"4\">\n      项目名称：{{project.projectName}}\n    </el-col>\n    <el-col :span=\"4\">\n      提出人：{{project.proposer}}\n    </el-col>\n    <el-col :span=\"4\">\n      验收人：{{project.checker}}\n    </el-col>\n    <el-col :span=\"4\">\n      PM：{{project.pm}}\n    </el-col>\n    <el-col :span=\"4\">\n      状态：{{project.status}}\n    </el-col>\n    <el-col :span=\"4\">\n      <a href=\"#\" >创建项目</a>\n      <el-button type=\"primary\">创建项目</el-button>\n    </el-col>\n  </el-row>\n\n  <el-button text @click=\"dialogFormVisible = true\">open a Form nested Dialog</el-button>\n\n  <el-dialog v-model=\"dialogFormVisible\" title=\"创建项目\">\n    <el-form :model=\"projectForm\">\n      <el-form-item label=\"项目名称\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"projectForm.projectName\" autocomplete=\"off\" />\n      </el-form-item>\n      <el-form-item label=\"提出人\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"projectForm.proposer\" autocomplete=\"off\" />\n      </el-form-item>\n      <el-form-item label=\"验收人\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"projectForm.checker\" autocomplete=\"off\" />\n      </el-form-item>\n      <el-form-item label=\"项目经理\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"projectForm.pm\" autocomplete=\"off\" />\n      </el-form-item>\n      <el-form-item label=\"状态\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"projectForm.status\" autocomplete=\"off\" />\n      </el-form-item>\n\n<!--      <el-form-item label=\"Zones\" :label-width=\"formLabelWidth\">\n        <el-select v-model=\"form.region\" placeholder=\"Please select a zone\">\n          <el-option label=\"Zone No.1\" value=\"shanghai\" />\n          <el-option label=\"Zone No.2\" value=\"beijing\" />\n        </el-select>\n      </el-form-item>-->\n    </el-form>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"createProject\"\n        >确认</el-button\n        >\n      </span>\n    </template>\n  </el-dialog>\n\n</template>\n\n<script setup>\n/* eslint-disable */\nimport axios from 'axios'\nimport {onMounted, reactive, ref} from 'vue'\nimport { ElMessage } from 'element-plus'\n\nconst dialogFormVisible = ref(false)\nconst formLabelWidth = '140px'\nconst form = reactive({\n  name: '',\n  region: '',\n  date1: '',\n  date2: '',\n  delivery: false,\n  type: [],\n  resource: '',\n  desc: '',\n})\n\nconst projectList = reactive([])\nconst projectForm = reactive({\n  projectName: '',\n  proposer: '',\n  checker: '',\n  pm: '',\n  status: ''\n})\n\nconst fetchProjectList = async function (){\n  const result = await axios.get('/bpi2/project/list',{});\n  for(let index in result.data){\n    projectList.push(result.data[index])\n    console.log(result.data[index])\n  }\n  // projectList = result.data;\n}\nconst createProject = async function(){\n  const res = await axios.post('/project/create',projectForm);\n  if(res.status == 200){\n    ElMessage({\n      message: '创建成功',\n      type: 'success',\n    })\n    dialogFormVisible.value = false\n  }\n  console.log(projectForm)\n\n}\n\nconst initFormData = function(){\n  this.projectForm.projectName = '';\n  this.projectForm.proposer = '';\n  this.projectForm.checker = '';\n  this.projectForm.pm = '';\n  this.projectForm.status = '';\n}\nonMounted(\n    fetchProjectList\n)\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n.el-button--text {\n  margin-right: 15px;\n}\n.el-select {\n  width: 300px;\n}\n.el-input {\n  width: 300px;\n}\n.dialog-footer button:first-child {\n  margin-right: 10px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}